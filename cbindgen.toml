language = "C"

# Header wrapping options
#header = "LICENSE here"
#trailer = ""
include_guard = "_HTP_H"
autogen_warning = "/* Warning, this file is autogenerated by cbindgen. Do NOT modify manually */"
#include_version = true
#sys_includes = [] # Sys headers
includes = ["forward_decls.h", "version.h"]
no_includes = false
cpp_compat = true
#after_includes = ""

# Code style
#braces = "SameLine"
#line_length = 100
#tab_wideth = 2
#documentation_style = auto

# Codegen
style = "both"

[export.rename]
"HtpStatus" = "htp_status_t"
"HtpServerPersonality" = "htp_server_personality_t"
"HtpProtocol" = "htp_protocol_t"
"HtpUnwanted" = "htp_unwanted_t"
"HtpUrlEncodingHandling" = "htp_url_encoding_handling_t"
"HtpStreamState" = "htp_stream_state_t"
"HtpContentEncoding" = "htp_content_encoding_t"
"HtpLogCode" = "htp_log_code_t"
"HtpLogLevel" = "htp_log_level_t"
"HtpMultipartMode" = "htp_multipart_mode_t"
"HtpMultipartState" = "htp_multipart_state_t"
"HtpMultipartType" = "htp_multipart_type_t"
"HtpMethod" = "htp_method_t"
"HtpDataSource" = "htp_data_source_t"
"HtpParserId" = "htp_parser_id_t"
"HtpFileSource" = "htp_file_source_t"
"HtpTransferCoding" = "htp_transfer_coding_t"
"HtpResponseProgress" = "htp_res_progress_t"
"HtpRequestProgress" = "htp_req_progress_t"
"Config" = "htp_cfg_t"
"Connection" = "htp_conn_t"
"ConnectionParser" = "htp_connp_t"
"File" = "htp_file_t"
"FileData" = "htp_file_data_t"
"Header" = "htp_header_t"
"Headers" = "htp_headers_t"
"Param" = "htp_param_t"
"Data" = "htp_tx_data_t"
"Transaction" = "htp_tx_t"
"Transactions" = "htp_txs_t"
"Uri" = "htp_uri_t"
"Bstr" = "bstr"
"Table" = "htp_table_t"
"Log" = "htp_log_t"
"Time" = "htp_time_t"

[export]
include = ["HtpStatus", 
"HtpServerPersonality",
"HtpProtocol",
"HtpUnwanted",
"HtpUrlEncodingHandling",
"HtpStreamState",
"HtpContentEncoding",
"HtpLogCode",
"HtpLogLevel",
"HtpMultipartMode",
"HtpMultipartState",
"HtpMultipartType",
"HtpMethod",
"HtpDataSource",
"HtpParserId",
"HtpFileSource",
"HtpTransferCoding",
"HtpResponseProgress",
"HtpRequestProgress"]
exclude = ["Flags", "inflate",
	   "inflateEnd", "iconv", "iconv_close",
           "iconv_open", "inflateInit2_", "mkstemp",
           "umask", "unlink",
           "write", "CLzmaDec", "LzmaDec_Init",
           "ELzmaFinishMode", "ELzmaStatus", "LzmaDec_Allocate",
           "LzmaDec_Free", "LzmaDec_DecodeToBuf", "ISzAlloc",
           "lzma_Alloc"]

[enum]
rename_variants = "ScreamingSnakeCase"
prefix_with_name = false

[macro_expansion]
bitflags = true

# Rust parsing options
[parse]
parse_deps = false
clean = false
