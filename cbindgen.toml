language = "C"

# Header wrapping options
#header = "LICENSE here"
#trailer = ""
include_guard = "_HTP_H"
autogen_warning = "/* Warning, this file is autogenerated by cbindgen. Do NOT modify manually */"
#include_version = true
#sys_includes = [] # Sys headers
includes = ["forward_decls.h", "version.h"]
no_includes = false
cpp_compat = true
#after_includes = ""

# Code style
#braces = "SameLine"
#line_length = 100
#tab_wideth = 2
#documentation_style = auto

# Codegen
style = "both"

[export.rename]
"Status" = "htp_status_t"
"Config" = "htp_cfg_t"
"Connection" = "htp_conn_t"
"ConnectionParser" = "htp_connp_t"
"File" = "htp_file_t"
"FileData" = "htp_file_data_t"
"Header" = "htp_header_t"
"Param" = "htp_param_t"
"Data" = "htp_tx_data_t"
"Transaction" = "htp_tx_t"
"Uri" = "htp_uri_t"
"Bstr" = "bstr"
"Table" = "htp_table_t"
"Log" = "htp_log_t"

[export]
include = ["htp_method_t", "Protocol",
           "htp_stream_state_t"]
exclude = ["Flags", "inflate",
	   "inflateEnd", "iconv", "iconv_close",
           "iconv_open", "inflateInit2_", "mkstemp",
           "umask", "unlink",
           "write", "CLzmaDec", "LzmaDec_Init",
           "ELzmaFinishMode", "ELzmaStatus", "LzmaDec_Allocate",
           "LzmaDec_Free", "LzmaDec_DecodeToBuf", "ISzAlloc",
           "lzma_Alloc"]

[enum]
rename_variants = "ScreamingSnakeCase"
prefix_with_name = false

[macro_expansion]
bitflags = true

# Rust parsing options
[parse]
parse_deps = false
clean = false
